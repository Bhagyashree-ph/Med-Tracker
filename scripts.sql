--------------------------------------------------------
--  File created - Monday-August-05-2024   
--------------------------------------------------------
-- Create a new user
--------------------------------------------------------
CREATE USER MT IDENTIFIED BY "MT";
--------------------------------------------------------
-- Grant permissions to the user
--------------------------------------------------------
GRANT ALL PRIVILEGES TO MT;
--------------------------------------------------------
--  DDL for Table DOCTORS
--------------------------------------------------------

  CREATE TABLE "MT"."DOCTORS" 
   (	"DOCTOR_ID" VARCHAR2(50 BYTE), 
	"DOCTOR_NAME" VARCHAR2(50 BYTE), 
	"SPECIALIZATION" VARCHAR2(100 BYTE), 
	"HOSPITAL_ID" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table HOSPITALS
--------------------------------------------------------

  CREATE TABLE "MT"."HOSPITALS" 
   (	"HOSPITAL_ID" VARCHAR2(50 BYTE), 
	"HOSPITAL_NAME" VARCHAR2(100 BYTE), 
	"ADDRESS" VARCHAR2(200 BYTE), 
	"CONTACT_NO" VARCHAR2(20 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table MEDICATION_DETAILS
--------------------------------------------------------

  CREATE TABLE "MT"."MEDICATION_DETAILS" 
   (	"MEDICATION_ID" NUMBER, 
	"MEDICATION_NAME" VARCHAR2(100 BYTE), 
	"PHARMACY_ID" VARCHAR2(50 BYTE), 
	"QUANTITY" NUMBER, 
	"REFILL_THRESHOLD" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table NOTIFICATIONS
--------------------------------------------------------

  CREATE TABLE "MT"."NOTIFICATIONS" 
   (	"NOTIFICATION_ID" NUMBER, 
	"NOTIFICATION_TYPE" VARCHAR2(20 BYTE), 
	"PATIENT_ID" VARCHAR2(20 BYTE), 
	"PRESCRIPTION_ID" NUMBER, 
	"MEDICATION_ID" NUMBER, 
	"REMINDER_ID" NUMBER, 
	"MESSAGE" VARCHAR2(200 BYTE), 
	"CREATED_ON" TIMESTAMP (6)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table NURSES
--------------------------------------------------------

  CREATE TABLE "MT"."NURSES" 
   (	"NURSE_ID" VARCHAR2(50 BYTE), 
	"NURSE_NAME" VARCHAR2(50 BYTE), 
	"DOB" DATE, 
	"GENDER" VARCHAR2(10 BYTE), 
	"IMAGE" VARCHAR2(200 BYTE), 
	"CONTACT_NO" VARCHAR2(20 BYTE), 
	"ADDRESS" VARCHAR2(200 BYTE), 
	"HOSPITAL_ID" VARCHAR2(50 BYTE), 
	"USER_ID" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table PATIENTS
--------------------------------------------------------

  CREATE TABLE "MT"."PATIENTS" 
   (	"PATIENT_ID" VARCHAR2(50 BYTE), 
	"GOVT_ID" VARCHAR2(50 BYTE), 
	"ID_TYPE" VARCHAR2(20 BYTE), 
	"FIRST_NAME" VARCHAR2(50 BYTE), 
	"LAST_NAME" VARCHAR2(50 BYTE), 
	"DOB" DATE, 
	"AGE" NUMBER, 
	"GENDER" VARCHAR2(10 BYTE), 
	"CONTACT_NO" VARCHAR2(20 BYTE), 
	"EMAIL_ID" VARCHAR2(100 BYTE), 
	"ADDRESS" VARCHAR2(200 BYTE), 
	"USER_ID" VARCHAR2(50 BYTE), 
	"IMAGE" BLOB
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" 
 LOB ("IMAGE") STORE AS BASICFILE (
  TABLESPACE "SYSTEM" ENABLE STORAGE IN ROW CHUNK 8192 RETENTION 
  NOCACHE LOGGING 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;
--------------------------------------------------------
--  DDL for Table PHARMACIES
--------------------------------------------------------

  CREATE TABLE "MT"."PHARMACIES" 
   (	"PHARMACY_ID" VARCHAR2(50 BYTE), 
	"PHARMACY_NAME" VARCHAR2(100 BYTE), 
	"ADDRESS" VARCHAR2(200 BYTE), 
	"CONTACT_NO" VARCHAR2(20 BYTE), 
	"USER_ID" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table PRESCRIPTION_DETAILS
--------------------------------------------------------

  CREATE TABLE "MT"."PRESCRIPTION_DETAILS" 
   (	"PRESCRIPTION_ID" NUMBER, 
	"PRESCRIBED_AT" VARCHAR2(50 BYTE), 
	"PRESCRIBED_BY" VARCHAR2(50 BYTE), 
	"PATIENT_ID" VARCHAR2(50 BYTE), 
	"AILMENT" VARCHAR2(200 BYTE), 
	"START_DATE" DATE, 
	"END_DATE" DATE, 
	"PRESCRIPTION" BLOB, 
	"STATUS" VARCHAR2(20 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" 
 LOB ("PRESCRIPTION") STORE AS BASICFILE (
  TABLESPACE "SYSTEM" ENABLE STORAGE IN ROW CHUNK 8192 RETENTION 
  NOCACHE LOGGING 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;
--------------------------------------------------------
--  DDL for Table PRESC_MED_MAPPINGS
--------------------------------------------------------

  CREATE TABLE "MT"."PRESC_MED_MAPPINGS" 
   (	"MAPPING_ID" NUMBER, 
	"PRESCRIPTION_ID" NUMBER, 
	"MEDICATION_ID" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table REFILL_REQUESTS
--------------------------------------------------------

  CREATE TABLE "MT"."REFILL_REQUESTS" 
   (	"REFILL_REQUEST_ID" VARCHAR2(50 BYTE), 
	"PRESCRIPTION_ID" NUMBER, 
	"MEDICATION_ID" NUMBER, 
	"REQUEST_TYPE" VARCHAR2(20 BYTE), 
	"REFILL_QUANTITY" NUMBER, 
	"REQUESTED_BY" VARCHAR2(50 BYTE), 
	"REQUESTED_ON" TIMESTAMP (6), 
	"FULFILLED_BY" VARCHAR2(50 BYTE), 
	"FULFILLED_ON" TIMESTAMP (6), 
	"STATUS" VARCHAR2(20 BYTE), 
	"COMMENTS" VARCHAR2(200 BYTE), 
	"FULFILLED_QUANTITY" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table REMINDERS
--------------------------------------------------------

  CREATE TABLE "MT"."REMINDERS" 
   (	"REMINDER_ID" NUMBER, 
	"MEDICATION_ID" NUMBER, 
	"PATIENT_ID" VARCHAR2(50 BYTE), 
	"REMIND_ON" TIMESTAMP (6)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table ROLES
--------------------------------------------------------

  CREATE TABLE "MT"."ROLES" 
   (	"ROLE_NAME" VARCHAR2(50 BYTE), 
	"ROLE_DESCRIPTION" VARCHAR2(200 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table STATUS
--------------------------------------------------------

  CREATE TABLE "MT"."STATUS" 
   (	"STATUS_CODE" VARCHAR2(20 BYTE), 
	"STATUS_LABEL" VARCHAR2(20 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table USERS
--------------------------------------------------------

  CREATE TABLE "MT"."USERS" 
   (	"USER_ID" VARCHAR2(50 BYTE), 
	"PASSWORD" VARCHAR2(50 BYTE), 
	"ROLE_NAME" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
REM INSERTING into MT.DOCTORS
SET DEFINE OFF;

Insert into MT.DOCTORS (DOCTOR_ID,DOCTOR_NAME,SPECIALIZATION,HOSPITAL_ID) values ('D001','Dr. Rohan Patel','Cardiologist','H001');
Insert into MT.DOCTORS (DOCTOR_ID,DOCTOR_NAME,SPECIALIZATION,HOSPITAL_ID) values ('D002','Dr. Priya Sharma','Gynaecologist','H002');
Insert into MT.DOCTORS (DOCTOR_ID,DOCTOR_NAME,SPECIALIZATION,HOSPITAL_ID) values ('D003','Dr. Karan Singh','Orthopaedician','H003');
Insert into MT.DOCTORS (DOCTOR_ID,DOCTOR_NAME,SPECIALIZATION,HOSPITAL_ID) values ('D004','Dr. Nisha Jain','Paediatrician','H004');
Insert into MT.DOCTORS (DOCTOR_ID,DOCTOR_NAME,SPECIALIZATION,HOSPITAL_ID) values ('D005','Dr. Rajeev Gupta','Neurologist','H005');
Insert into MT.DOCTORS (DOCTOR_ID,DOCTOR_NAME,SPECIALIZATION,HOSPITAL_ID) values ('D006','Dr. Ahmed Khan','Urologist','H001');
Insert into MT.DOCTORS (DOCTOR_ID,DOCTOR_NAME,SPECIALIZATION,HOSPITAL_ID) values ('D007','Dr. Praveen Kumar','General Surgeon','H001');
REM INSERTING into MT.HOSPITALS
SET DEFINE OFF;
Insert into MT.HOSPITALS (HOSPITAL_ID,HOSPITAL_NAME,ADDRESS,CONTACT_NO) values ('H001','Rainbow Hospital','Near Goa Hotel, Kalaburagi','+91 8324637280');
Insert into MT.HOSPITALS (HOSPITAL_ID,HOSPITAL_NAME,ADDRESS,CONTACT_NO) values ('H002','Fortis Hospital','Mumbai','022-34567890');
Insert into MT.HOSPITALS (HOSPITAL_ID,HOSPITAL_NAME,ADDRESS,CONTACT_NO) values ('H003','Max Hospital','Chennai','044-56789012');
Insert into MT.HOSPITALS (HOSPITAL_ID,HOSPITAL_NAME,ADDRESS,CONTACT_NO) values ('H004','Medanta Hospital','Gurgaon','0124-4567890');
Insert into MT.HOSPITALS (HOSPITAL_ID,HOSPITAL_NAME,ADDRESS,CONTACT_NO) values ('H005','AIIMS Hospital','Delhi','011-45678901');
REM INSERTING into MT.MEDICATION_DETAILS
SET DEFINE OFF;
Insert into MT.MEDICATION_DETAILS (MEDICATION_ID,MEDICATION_NAME,PHARMACY_ID,QUANTITY,REFILL_THRESHOLD) values (1084,'Sinorest','P001',10,10);
Insert into MT.MEDICATION_DETAILS (MEDICATION_ID,MEDICATION_NAME,PHARMACY_ID,QUANTITY,REFILL_THRESHOLD) values (1085,'Cheston Cold','P001',11,11);
Insert into MT.MEDICATION_DETAILS (MEDICATION_ID,MEDICATION_NAME,PHARMACY_ID,QUANTITY,REFILL_THRESHOLD) values (1086,'Paracetomol','P001',20,10);
Insert into MT.MEDICATION_DETAILS (MEDICATION_ID,MEDICATION_NAME,PHARMACY_ID,QUANTITY,REFILL_THRESHOLD) values (1087,'Dolo 650','P001',10,5);
Insert into MT.MEDICATION_DETAILS (MEDICATION_ID,MEDICATION_NAME,PHARMACY_ID,QUANTITY,REFILL_THRESHOLD) values (1081,'Omega 3','P001',20,10);
Insert into MT.MEDICATION_DETAILS (MEDICATION_ID,MEDICATION_NAME,PHARMACY_ID,QUANTITY,REFILL_THRESHOLD) values (1082,'B Complex','P001',20,10);
Insert into MT.MEDICATION_DETAILS (MEDICATION_ID,MEDICATION_NAME,PHARMACY_ID,QUANTITY,REFILL_THRESHOLD) values (1083,'Cheston COld','P001',5,5);
REM INSERTING into MT.NOTIFICATIONS
SET DEFINE OFF;
Insert into MT.NOTIFICATIONS (NOTIFICATION_ID,NOTIFICATION_TYPE,PATIENT_ID,PRESCRIPTION_ID,MEDICATION_ID,REMINDER_ID,MESSAGE,CREATED_ON) values (46232,'Medication Refill','RJ0108240751',null,1083,null,'Your medication Cheston COld needs to be refilled!',null);
Insert into MT.NOTIFICATIONS (NOTIFICATION_ID,NOTIFICATION_TYPE,PATIENT_ID,PRESCRIPTION_ID,MEDICATION_ID,REMINDER_ID,MESSAGE,CREATED_ON) values (46584,'Medication Refill','NP0108240758',null,1085,null,'Your medication Cheston Cold needs to be refilled!',null);
Insert into MT.NOTIFICATIONS (NOTIFICATION_ID,NOTIFICATION_TYPE,PATIENT_ID,PRESCRIPTION_ID,MEDICATION_ID,REMINDER_ID,MESSAGE,CREATED_ON) values (46237,'REMINDER','SP0108240740',null,null,2399,'It is time to take your medication Omega 3',to_timestamp('01-AUG-24 09.22.41.747000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into MT.NOTIFICATIONS (NOTIFICATION_ID,NOTIFICATION_TYPE,PATIENT_ID,PRESCRIPTION_ID,MEDICATION_ID,REMINDER_ID,MESSAGE,CREATED_ON) values (46249,'REMINDER','RJ0108240751',null,null,2401,'It is time to take your medication Cheston COld',to_timestamp('01-AUG-24 09.25.41.747000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into MT.NOTIFICATIONS (NOTIFICATION_ID,NOTIFICATION_TYPE,PATIENT_ID,PRESCRIPTION_ID,MEDICATION_ID,REMINDER_ID,MESSAGE,CREATED_ON) values (46255,'REMINDER','NP0108240758',null,null,2402,'It is time to take your medication Sinorest',to_timestamp('01-AUG-24 09.26.41.736000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into MT.NOTIFICATIONS (NOTIFICATION_ID,NOTIFICATION_TYPE,PATIENT_ID,PRESCRIPTION_ID,MEDICATION_ID,REMINDER_ID,MESSAGE,CREATED_ON) values (49119,'Prescription Refill','NP0108240758',728415,null,null,'Your prescription 728415 is about to expire in 1 days.',to_timestamp('02-AUG-24 09.03.11.803000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into MT.NOTIFICATIONS (NOTIFICATION_ID,NOTIFICATION_TYPE,PATIENT_ID,PRESCRIPTION_ID,MEDICATION_ID,REMINDER_ID,MESSAGE,CREATED_ON) values (48753,'REMINDER','NP0108240758',null,null,2404,'It is time to take your medication Paracetomol',to_timestamp('01-AUG-24 06.30.41.140000000 PM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into MT.NOTIFICATIONS (NOTIFICATION_ID,NOTIFICATION_TYPE,PATIENT_ID,PRESCRIPTION_ID,MEDICATION_ID,REMINDER_ID,MESSAGE,CREATED_ON) values (48755,'REMINDER','SP0108241037',null,null,2406,'It is time to take your medication Dolo 650',to_timestamp('01-AUG-24 06.30.41.141000000 PM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into MT.NOTIFICATIONS (NOTIFICATION_ID,NOTIFICATION_TYPE,PATIENT_ID,PRESCRIPTION_ID,MEDICATION_ID,REMINDER_ID,MESSAGE,CREATED_ON) values (49118,'Prescription Refill','RJ0108240751',728414,null,null,'Your prescription 728414 is about to expire in 1 days.',to_timestamp('02-AUG-24 09.03.11.803000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into MT.NOTIFICATIONS (NOTIFICATION_ID,NOTIFICATION_TYPE,PATIENT_ID,PRESCRIPTION_ID,MEDICATION_ID,REMINDER_ID,MESSAGE,CREATED_ON) values (49120,'Prescription Refill','GP0108240743',728413,null,null,'Your prescription 728413 is about to expire in 1 days.',to_timestamp('02-AUG-24 09.03.11.804000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into MT.NOTIFICATIONS (NOTIFICATION_ID,NOTIFICATION_TYPE,PATIENT_ID,PRESCRIPTION_ID,MEDICATION_ID,REMINDER_ID,MESSAGE,CREATED_ON) values (49272,'REMINDER','GP0108240743',null,null,2400,'It is time to take your medication B Complex',to_timestamp('02-AUG-24 09.21.41.449000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into MT.NOTIFICATIONS (NOTIFICATION_ID,NOTIFICATION_TYPE,PATIENT_ID,PRESCRIPTION_ID,MEDICATION_ID,REMINDER_ID,MESSAGE,CREATED_ON) values (49279,'REMINDER','SP0108240740',null,null,2399,'It is time to take your medication Omega 3',to_timestamp('02-AUG-24 09.22.41.454000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into MT.NOTIFICATIONS (NOTIFICATION_ID,NOTIFICATION_TYPE,PATIENT_ID,PRESCRIPTION_ID,MEDICATION_ID,REMINDER_ID,MESSAGE,CREATED_ON) values (49297,'REMINDER','RJ0108240751',null,null,2401,'It is time to take your medication Cheston COld',to_timestamp('02-AUG-24 09.25.41.554000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into MT.NOTIFICATIONS (NOTIFICATION_ID,NOTIFICATION_TYPE,PATIENT_ID,PRESCRIPTION_ID,MEDICATION_ID,REMINDER_ID,MESSAGE,CREATED_ON) values (49306,'REMINDER','NP0108240758',null,null,2402,'It is time to take your medication Sinorest',to_timestamp('02-AUG-24 09.26.41.642000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into MT.NOTIFICATIONS (NOTIFICATION_ID,NOTIFICATION_TYPE,PATIENT_ID,PRESCRIPTION_ID,MEDICATION_ID,REMINDER_ID,MESSAGE,CREATED_ON) values (49339,'REMINDER','NP0108240758',null,null,2403,'It is time to take your medication Cheston Cold',to_timestamp('02-AUG-24 09.30.41.855000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into MT.NOTIFICATIONS (NOTIFICATION_ID,NOTIFICATION_TYPE,PATIENT_ID,PRESCRIPTION_ID,MEDICATION_ID,REMINDER_ID,MESSAGE,CREATED_ON) values (49821,'REMINDER','SP0108241037',null,null,2405,'It is time to take your medication Dolo 650',to_timestamp('02-AUG-24 10.30.41.748000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into MT.NOTIFICATIONS (NOTIFICATION_ID,NOTIFICATION_TYPE,PATIENT_ID,PRESCRIPTION_ID,MEDICATION_ID,REMINDER_ID,MESSAGE,CREATED_ON) values (52665,'Prescription Refill','SP0108240740',728412,null,null,'Your prescription 728412 is about to expire in 2 days.',to_timestamp('04-AUG-24 04.20.18.066000000 PM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into MT.NOTIFICATIONS (NOTIFICATION_ID,NOTIFICATION_TYPE,PATIENT_ID,PRESCRIPTION_ID,MEDICATION_ID,REMINDER_ID,MESSAGE,CREATED_ON) values (53258,'Prescription Refill','SP0108240740',728412,null,null,'Your prescription 728412 is about to expire in 2 days.',to_timestamp('05-AUG-24 10.21.22.181000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into MT.NOTIFICATIONS (NOTIFICATION_ID,NOTIFICATION_TYPE,PATIENT_ID,PRESCRIPTION_ID,MEDICATION_ID,REMINDER_ID,MESSAGE,CREATED_ON) values (53335,'REMINDER','SP0108241037',null,null,2405,'It is time to take your medication Dolo 650',to_timestamp('05-AUG-24 10.30.41.259000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into MT.NOTIFICATIONS (NOTIFICATION_ID,NOTIFICATION_TYPE,PATIENT_ID,PRESCRIPTION_ID,MEDICATION_ID,REMINDER_ID,MESSAGE,CREATED_ON) values (46118,'Prescription Refill','RJ0108240751',728414,null,null,'Your prescription 728414 is about to expire in 2 days.',to_timestamp('01-AUG-24 09.00.00.114000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into MT.NOTIFICATIONS (NOTIFICATION_ID,NOTIFICATION_TYPE,PATIENT_ID,PRESCRIPTION_ID,MEDICATION_ID,REMINDER_ID,MESSAGE,CREATED_ON) values (46119,'Prescription Refill','NP0108240758',728415,null,null,'Your prescription 728415 is about to expire in 2 days.',to_timestamp('01-AUG-24 09.00.00.114000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into MT.NOTIFICATIONS (NOTIFICATION_ID,NOTIFICATION_TYPE,PATIENT_ID,PRESCRIPTION_ID,MEDICATION_ID,REMINDER_ID,MESSAGE,CREATED_ON) values (46121,'Prescription Refill','GP0108240743',728413,null,null,'Your prescription 728413 is about to expire in 2 days.',to_timestamp('01-AUG-24 09.00.00.115000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into MT.NOTIFICATIONS (NOTIFICATION_ID,NOTIFICATION_TYPE,PATIENT_ID,PRESCRIPTION_ID,MEDICATION_ID,REMINDER_ID,MESSAGE,CREATED_ON) values (46231,'REMINDER','GP0108240743',null,null,2400,'It is time to take your medication B Complex',to_timestamp('01-AUG-24 09.21.41.656000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
REM INSERTING into MT.NURSES
SET DEFINE OFF;
Insert into MT.NURSES (NURSE_ID,NURSE_NAME,DOB,GENDER,IMAGE,CONTACT_NO,ADDRESS,HOSPITAL_ID,USER_ID) values ('N001','Niteen',to_date('15-JAN-01','DD-MON-RR'),'Male',null,'+91 7619136383','Gulbarga','H001','U001');
REM INSERTING into MT.PATIENTS
SET DEFINE OFF;
Insert into MT.PATIENTS (PATIENT_ID,GOVT_ID,ID_TYPE,FIRST_NAME,LAST_NAME,DOB,AGE,GENDER,CONTACT_NO,EMAIL_ID,ADDRESS,USER_ID) values ('RJ0108240751','POWUR2345J','Pan Card','Roopa','Jidagi',to_date('14-JAN-01','DD-MON-RR'),23,'Female','+91 9090586666','roopa.jidagi@gmail.com','Gulbarga','F1DDE55');
Insert into MT.PATIENTS (PATIENT_ID,GOVT_ID,ID_TYPE,FIRST_NAME,LAST_NAME,DOB,AGE,GENDER,CONTACT_NO,EMAIL_ID,ADDRESS,USER_ID) values ('NP0108240758','4567 8901 2345','Aadhar card','Nitya','Patil',to_date('15-JAN-01','DD-MON-RR'),23,'Female','+91 6362029192','nitya.patil@gmail.com','Kalaburagi','0D90C42');
Insert into MT.PATIENTS (PATIENT_ID,GOVT_ID,ID_TYPE,FIRST_NAME,LAST_NAME,DOB,AGE,GENDER,CONTACT_NO,EMAIL_ID,ADDRESS,USER_ID) values ('SP0108241037','ERTYU1234K','Pan Card','Shruti','Patil',to_date('01-JUN-06','DD-MON-RR'),18,'Female','+91 8234671209','shruti.patil@gmail.com','Kalaburagi','501C14D');
Insert into MT.PATIENTS (PATIENT_ID,GOVT_ID,ID_TYPE,FIRST_NAME,LAST_NAME,DOB,AGE,GENDER,CONTACT_NO,EMAIL_ID,ADDRESS,USER_ID) values ('SP0108240740','9876 5432 1234','Aadhar card','Swati','Patil',to_date('25-AUG-99','DD-MON-RR'),24,'Female','+91 8765432190','swati.patil@gmail.com','Sindagi','A239745');
Insert into MT.PATIENTS (PATIENT_ID,GOVT_ID,ID_TYPE,FIRST_NAME,LAST_NAME,DOB,AGE,GENDER,CONTACT_NO,EMAIL_ID,ADDRESS,USER_ID) values ('GP0108240743','AEHIO2345P','Pan Card','Ganesh','PH',to_date('19-FEB-04','DD-MON-RR'),20,'Male','+91 9108023341','ganesh.ph@gmail.com','Davangere','BF208A3');
REM INSERTING into MT.PHARMACIES
SET DEFINE OFF;
Insert into MT.PHARMACIES (PHARMACY_ID,PHARMACY_NAME,ADDRESS,CONTACT_NO,USER_ID) values ('P001','Aarogya Pharmacy','Delhi','011-23456789','U002');
REM INSERTING into MT.PRESCRIPTION_DETAILS
SET DEFINE OFF;
Insert into MT.PRESCRIPTION_DETAILS (PRESCRIPTION_ID,PRESCRIBED_AT,PRESCRIBED_BY,PATIENT_ID,AILMENT,START_DATE,END_DATE,STATUS) values (728414,'H001','D007','RJ0108240751','Common Cold',to_date('01-AUG-24','DD-MON-RR'),to_date('03-AUG-24','DD-MON-RR'),'ACT');
Insert into MT.PRESCRIPTION_DETAILS (PRESCRIPTION_ID,PRESCRIBED_AT,PRESCRIBED_BY,PATIENT_ID,AILMENT,START_DATE,END_DATE,STATUS) values (728415,'H001','D007','NP0108240758','Cough',to_date('01-AUG-24','DD-MON-RR'),to_date('03-AUG-24','DD-MON-RR'),'ACT');
Insert into MT.PRESCRIPTION_DETAILS (PRESCRIPTION_ID,PRESCRIBED_AT,PRESCRIBED_BY,PATIENT_ID,AILMENT,START_DATE,END_DATE,STATUS) values (728416,'H001','D007','NP0108240758','Common Cold',to_date('01-AUG-24','DD-MON-RR'),to_date('02-AUG-24','DD-MON-RR'),'ACT');
Insert into MT.PRESCRIPTION_DETAILS (PRESCRIPTION_ID,PRESCRIBED_AT,PRESCRIBED_BY,PATIENT_ID,AILMENT,START_DATE,END_DATE,STATUS) values (728417,'H001','D006','NP0108240758','Fever',to_date('01-AUG-24','DD-MON-RR'),to_date('10-AUG-24','DD-MON-RR'),'ACT');
Insert into MT.PRESCRIPTION_DETAILS (PRESCRIPTION_ID,PRESCRIBED_AT,PRESCRIBED_BY,PATIENT_ID,AILMENT,START_DATE,END_DATE,STATUS) values (728418,'H001','D007','SP0108241037','Fever',to_date('01-AUG-24','DD-MON-RR'),to_date('08-AUG-24','DD-MON-RR'),'ACT');
Insert into MT.PRESCRIPTION_DETAILS (PRESCRIPTION_ID,PRESCRIBED_AT,PRESCRIBED_BY,PATIENT_ID,AILMENT,START_DATE,END_DATE,STATUS) values (728412,'H001','D006','SP0108240740','Thyroid',to_date('01-AUG-24','DD-MON-RR'),to_date('07-AUG-24','DD-MON-RR'),'ACT');
Insert into MT.PRESCRIPTION_DETAILS (PRESCRIPTION_ID,PRESCRIBED_AT,PRESCRIBED_BY,PATIENT_ID,AILMENT,START_DATE,END_DATE,STATUS) values (728413,'H001','D006','GP0108240743','Ulcers',to_date('31-JUL-24','DD-MON-RR'),to_date('03-AUG-24','DD-MON-RR'),'ACT');
REM INSERTING into MT.PRESC_MED_MAPPINGS
SET DEFINE OFF;
Insert into MT.PRESC_MED_MAPPINGS (MAPPING_ID,PRESCRIPTION_ID,MEDICATION_ID) values (4906,728414,1083);
Insert into MT.PRESC_MED_MAPPINGS (MAPPING_ID,PRESCRIPTION_ID,MEDICATION_ID) values (4907,728415,1084);
Insert into MT.PRESC_MED_MAPPINGS (MAPPING_ID,PRESCRIPTION_ID,MEDICATION_ID) values (4908,728416,1085);
Insert into MT.PRESC_MED_MAPPINGS (MAPPING_ID,PRESCRIPTION_ID,MEDICATION_ID) values (4909,728417,1086);
Insert into MT.PRESC_MED_MAPPINGS (MAPPING_ID,PRESCRIPTION_ID,MEDICATION_ID) values (4910,728418,1087);
Insert into MT.PRESC_MED_MAPPINGS (MAPPING_ID,PRESCRIPTION_ID,MEDICATION_ID) values (4904,728412,1081);
Insert into MT.PRESC_MED_MAPPINGS (MAPPING_ID,PRESCRIPTION_ID,MEDICATION_ID) values (4905,728413,1082);
REM INSERTING into MT.REFILL_REQUESTS
SET DEFINE OFF;
Insert into MT.REFILL_REQUESTS (REFILL_REQUEST_ID,PRESCRIPTION_ID,MEDICATION_ID,REQUEST_TYPE,REFILL_QUANTITY,REQUESTED_BY,REQUESTED_ON,FULFILLED_BY,FULFILLED_ON,STATUS,COMMENTS,FULFILLED_QUANTITY) values ('9B7E704',null,1085,'Medication',10,'NP0108240758',to_timestamp('01-AUG-24 09.09.55.000000000 AM','DD-MON-RR HH.MI.SSXFF AM'),null,null,'PEND','Less stock',5);
Insert into MT.REFILL_REQUESTS (REFILL_REQUEST_ID,PRESCRIPTION_ID,MEDICATION_ID,REQUEST_TYPE,REFILL_QUANTITY,REQUESTED_BY,REQUESTED_ON,FULFILLED_BY,FULFILLED_ON,STATUS,COMMENTS,FULFILLED_QUANTITY) values ('3B30CAB',728415,null,'Prescription',1,'NP0108240758',to_timestamp('01-AUG-24 09.28.05.000000000 AM','DD-MON-RR HH.MI.SSXFF AM'),null,null,'PEND',null,null);
Insert into MT.REFILL_REQUESTS (REFILL_REQUEST_ID,PRESCRIPTION_ID,MEDICATION_ID,REQUEST_TYPE,REFILL_QUANTITY,REQUESTED_BY,REQUESTED_ON,FULFILLED_BY,FULFILLED_ON,STATUS,COMMENTS,FULFILLED_QUANTITY) values ('E5D26C8',728415,null,'Prescription',1,'NP0108240758',to_timestamp('01-AUG-24 09.42.23.000000000 AM','DD-MON-RR HH.MI.SSXFF AM'),'U001',to_timestamp('01-AUG-24 05.13.01.000000000 PM','DD-MON-RR HH.MI.SSXFF AM'),'APPR','Continue',null);
Insert into MT.REFILL_REQUESTS (REFILL_REQUEST_ID,PRESCRIPTION_ID,MEDICATION_ID,REQUEST_TYPE,REFILL_QUANTITY,REQUESTED_BY,REQUESTED_ON,FULFILLED_BY,FULFILLED_ON,STATUS,COMMENTS,FULFILLED_QUANTITY) values ('12BE018',728415,null,'Prescription',1,'NP0108240758',to_timestamp('01-AUG-24 09.44.48.000000000 AM','DD-MON-RR HH.MI.SSXFF AM'),'U001',to_timestamp('01-AUG-24 10.39.27.000000000 AM','DD-MON-RR HH.MI.SSXFF AM'),'DENY','Stop',null);
Insert into MT.REFILL_REQUESTS (REFILL_REQUEST_ID,PRESCRIPTION_ID,MEDICATION_ID,REQUEST_TYPE,REFILL_QUANTITY,REQUESTED_BY,REQUESTED_ON,FULFILLED_BY,FULFILLED_ON,STATUS,COMMENTS,FULFILLED_QUANTITY) values ('74BBD40',null,1084,'medication',10,'NP0108240758',to_timestamp('01-AUG-24 10.31.17.000000000 AM','DD-MON-RR HH.MI.SSXFF AM'),null,null,'PEND',null,null);
Insert into MT.REFILL_REQUESTS (REFILL_REQUEST_ID,PRESCRIPTION_ID,MEDICATION_ID,REQUEST_TYPE,REFILL_QUANTITY,REQUESTED_BY,REQUESTED_ON,FULFILLED_BY,FULFILLED_ON,STATUS,COMMENTS,FULFILLED_QUANTITY) values ('2B41425',728416,null,'prescription',10,'NP0108240758',to_timestamp('01-AUG-24 10.31.34.000000000 AM','DD-MON-RR HH.MI.SSXFF AM'),null,null,'PEND',null,null);
Insert into MT.REFILL_REQUESTS (REFILL_REQUEST_ID,PRESCRIPTION_ID,MEDICATION_ID,REQUEST_TYPE,REFILL_QUANTITY,REQUESTED_BY,REQUESTED_ON,FULFILLED_BY,FULFILLED_ON,STATUS,COMMENTS,FULFILLED_QUANTITY) values ('A963DE6',728415,null,'Prescription',1,'NP0108240758',to_timestamp('01-AUG-24 09.07.40.000000000 AM','DD-MON-RR HH.MI.SSXFF AM'),null,null,'PEND',null,null);
Insert into MT.REFILL_REQUESTS (REFILL_REQUEST_ID,PRESCRIPTION_ID,MEDICATION_ID,REQUEST_TYPE,REFILL_QUANTITY,REQUESTED_BY,REQUESTED_ON,FULFILLED_BY,FULFILLED_ON,STATUS,COMMENTS,FULFILLED_QUANTITY) values ('0F1611D',null,1084,'Medication',20,'NP0108240758',to_timestamp('01-AUG-24 09.08.12.000000000 AM','DD-MON-RR HH.MI.SSXFF AM'),'U002',to_timestamp('01-AUG-24 10.58.31.000000000 AM','DD-MON-RR HH.MI.SSXFF AM'),'APPR','Continue',10);
REM INSERTING into MT.REMINDERS
SET DEFINE OFF;
Insert into MT.REMINDERS (REMINDER_ID,MEDICATION_ID,PATIENT_ID,REMIND_ON) values (2401,1083,'RJ0108240751',to_timestamp('25-JUL-22 09.25.00.000000000 PM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into MT.REMINDERS (REMINDER_ID,MEDICATION_ID,PATIENT_ID,REMIND_ON) values (2402,1084,'NP0108240758',to_timestamp('25-JUL-22 09.26.00.000000000 PM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into MT.REMINDERS (REMINDER_ID,MEDICATION_ID,PATIENT_ID,REMIND_ON) values (2403,1085,'NP0108240758',to_timestamp('25-JUL-22 09.30.00.000000000 PM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into MT.REMINDERS (REMINDER_ID,MEDICATION_ID,PATIENT_ID,REMIND_ON) values (2404,1086,'NP0108240758',to_timestamp('25-JUL-22 06.30.00.000000000 PM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into MT.REMINDERS (REMINDER_ID,MEDICATION_ID,PATIENT_ID,REMIND_ON) values (2405,1087,'SP0108241037',to_timestamp('25-JUL-22 10.30.00.000000000 PM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into MT.REMINDERS (REMINDER_ID,MEDICATION_ID,PATIENT_ID,REMIND_ON) values (2406,1087,'SP0108241037',to_timestamp('26-JUL-22 06.30.00.000000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into MT.REMINDERS (REMINDER_ID,MEDICATION_ID,PATIENT_ID,REMIND_ON) values (2399,1081,'SP0108240740',to_timestamp('25-JUL-22 09.22.00.000000000 PM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into MT.REMINDERS (REMINDER_ID,MEDICATION_ID,PATIENT_ID,REMIND_ON) values (2400,1082,'GP0108240743',to_timestamp('25-JUL-22 09.21.00.000000000 PM','DD-MON-RR HH.MI.SSXFF AM'));
REM INSERTING into MT.ROLES
SET DEFINE OFF;
Insert into MT.ROLES (ROLE_NAME,ROLE_DESCRIPTION) values ('PROVIDER','One who provides medications.');
Insert into MT.ROLES (ROLE_NAME,ROLE_DESCRIPTION) values ('PATIENT','One who is under medication');
Insert into MT.ROLES (ROLE_NAME,ROLE_DESCRIPTION) values ('PHARMACIST','One who refills medication');
Insert into MT.ROLES (ROLE_NAME,ROLE_DESCRIPTION) values ('ADMIN','One who manages the users and roles.');
REM INSERTING into MT.STATUS
SET DEFINE OFF;
Insert into MT.STATUS (STATUS_CODE,STATUS_LABEL) values ('PEND','Pending');
Insert into MT.STATUS (STATUS_CODE,STATUS_LABEL) values ('APPR','Approved');
Insert into MT.STATUS (STATUS_CODE,STATUS_LABEL) values ('DENY','Denied');
Insert into MT.STATUS (STATUS_CODE,STATUS_LABEL) values ('ACT','Active');
Insert into MT.STATUS (STATUS_CODE,STATUS_LABEL) values ('INACT','Inactive');
Insert into MT.STATUS (STATUS_CODE,STATUS_LABEL) values ('COMP','Completed');
REM INSERTING into MT.USERS
SET DEFINE OFF;
Insert into MT.USERS (USER_ID,PASSWORD,ROLE_NAME) values ('U002','password@123','PHARMACIST');
Insert into MT.USERS (USER_ID,PASSWORD,ROLE_NAME) values ('A239745','Swati@1234','PATIENT');
Insert into MT.USERS (USER_ID,PASSWORD,ROLE_NAME) values ('BF208A3','Ganesh@1234','PATIENT');
Insert into MT.USERS (USER_ID,PASSWORD,ROLE_NAME) values ('F1DDE55','Roopa@1234','PATIENT');
Insert into MT.USERS (USER_ID,PASSWORD,ROLE_NAME) values ('0D90C42','Nitya@1234','PATIENT');
Insert into MT.USERS (USER_ID,PASSWORD,ROLE_NAME) values ('U003','Admin@1234','ADMIN');
Insert into MT.USERS (USER_ID,PASSWORD,ROLE_NAME) values ('501C14D','Shruti@1234','PATIENT');
Insert into MT.USERS (USER_ID,PASSWORD,ROLE_NAME) values ('U001','Nitu@1511','PROVIDER');
--------------------------------------------------------
--  DDL for Sequence DOCTOR_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "MT"."DOCTOR_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence HOSPITAL_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "MT"."HOSPITAL_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence MEDICATION_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "MT"."MEDICATION_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1088 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence NOTIFICATION_ID_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "MT"."NOTIFICATION_ID_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 54361 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence PHARMACY_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "MT"."PHARMACY_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence PRESCRIPTION_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "MT"."PRESCRIPTION_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 728419 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence PRE_MED_MAPPING_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "MT"."PRE_MED_MAPPING_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 4911 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence REFILL_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "MT"."REFILL_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence REMINDER_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "MT"."REMINDER_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 2407 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence USER_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "MT"."USER_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 6 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Index NOTIFICATIONS_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."NOTIFICATIONS_PK" ON "MT"."NOTIFICATIONS" ("NOTIFICATION_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008847
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008847" ON "MT"."ROLES" ("ROLE_NAME") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008848
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008848" ON "MT"."STATUS" ("STATUS_CODE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008849
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008849" ON "MT"."USERS" ("USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008852
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008852" ON "MT"."PATIENTS" ("PATIENT_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008853
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008853" ON "MT"."PATIENTS" ("GOVT_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008855
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008855" ON "MT"."HOSPITALS" ("HOSPITAL_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008856
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008856" ON "MT"."NURSES" ("NURSE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008859
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008859" ON "MT"."PHARMACIES" ("PHARMACY_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008861
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008861" ON "MT"."DOCTORS" ("DOCTOR_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008863
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008863" ON "MT"."MEDICATION_DETAILS" ("MEDICATION_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008865
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008865" ON "MT"."REMINDERS" ("REMINDER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008868
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008868" ON "MT"."PRESCRIPTION_DETAILS" ("PRESCRIPTION_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008873
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008873" ON "MT"."REFILL_REQUESTS" ("REFILL_REQUEST_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008883
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008883" ON "MT"."PRESC_MED_MAPPINGS" ("MAPPING_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008861
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008861" ON "MT"."DOCTORS" ("DOCTOR_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008855
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008855" ON "MT"."HOSPITALS" ("HOSPITAL_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008863
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008863" ON "MT"."MEDICATION_DETAILS" ("MEDICATION_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index NOTIFICATIONS_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."NOTIFICATIONS_PK" ON "MT"."NOTIFICATIONS" ("NOTIFICATION_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008856
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008856" ON "MT"."NURSES" ("NURSE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008852
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008852" ON "MT"."PATIENTS" ("PATIENT_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008853
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008853" ON "MT"."PATIENTS" ("GOVT_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008859
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008859" ON "MT"."PHARMACIES" ("PHARMACY_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008868
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008868" ON "MT"."PRESCRIPTION_DETAILS" ("PRESCRIPTION_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008883
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008883" ON "MT"."PRESC_MED_MAPPINGS" ("MAPPING_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008873
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008873" ON "MT"."REFILL_REQUESTS" ("REFILL_REQUEST_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008865
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008865" ON "MT"."REMINDERS" ("REMINDER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008847
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008847" ON "MT"."ROLES" ("ROLE_NAME") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008848
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008848" ON "MT"."STATUS" ("STATUS_CODE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SYS_C008849
--------------------------------------------------------

  CREATE UNIQUE INDEX "MT"."SYS_C008849" ON "MT"."USERS" ("USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Trigger TRG_MEDICATIONREFILL
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "MT"."TRG_MEDICATIONREFILL" 
AFTER UPDATE ON MEDICATION_DETAILS
FOR EACH ROW
DECLARE
    v_patient_id VARCHAR2(50 BYTE);
    v_notification_id NUMBER;
BEGIN
    IF :NEW.QUANTITY = :NEW.REFILL_THRESHOLD THEN
        SELECT p.patient_id INTO v_patient_id
        FROM prescription_details p
        JOIN presc_med_mappings pm ON p.prescription_id = pm.prescription_id
        WHERE pm.medication_id = :NEW.MEDICATION_ID;

        -- Get the next notification ID from the sequence
        SELECT notification_id_seq.NEXTVAL INTO v_notification_id FROM DUAL;

        INSERT INTO Notifications (NOTIFICATION_ID, NOTIFICATION_TYPE, PATIENT_ID, MEDICATION_ID, MESSAGE)
        VALUES (v_notification_id, 'Medication Refill', v_patient_id, :NEW.MEDICATION_ID, 'Your medication '|| :NEW.MEDICATION_NAME || ' needs to be refilled!');
    END IF;
END;
/
ALTER TRIGGER "MT"."TRG_MEDICATIONREFILL" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_MEDICATIONREFILL
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "MT"."TRG_MEDICATIONREFILL" 
AFTER UPDATE ON MEDICATION_DETAILS
FOR EACH ROW
DECLARE
    v_patient_id VARCHAR2(50 BYTE);
    v_notification_id NUMBER;
BEGIN
    IF :NEW.QUANTITY = :NEW.REFILL_THRESHOLD THEN
        SELECT p.patient_id INTO v_patient_id
        FROM prescription_details p
        JOIN presc_med_mappings pm ON p.prescription_id = pm.prescription_id
        WHERE pm.medication_id = :NEW.MEDICATION_ID;

        -- Get the next notification ID from the sequence
        SELECT notification_id_seq.NEXTVAL INTO v_notification_id FROM DUAL;

        INSERT INTO Notifications (NOTIFICATION_ID, NOTIFICATION_TYPE, PATIENT_ID, MEDICATION_ID, MESSAGE)
        VALUES (v_notification_id, 'Medication Refill', v_patient_id, :NEW.MEDICATION_ID, 'Your medication '|| :NEW.MEDICATION_NAME || ' needs to be refilled!');
    END IF;
END;
/
ALTER TRIGGER "MT"."TRG_MEDICATIONREFILL" ENABLE;
--------------------------------------------------------
--  DDL for Procedure SP_CHECKPRESCRIPTIONEXPIRIES
--------------------------------------------------------
set define off;

  CREATE OR REPLACE PROCEDURE "MT"."SP_CHECKPRESCRIPTIONEXPIRIES" AS
v_notification_id NUMBER;
v_diff NUMBER;
BEGIN
    FOR p IN (
        SELECT * FROM prescription_details
    ) LOOP 
    SELECT ROUND(TO_DATE(p.end_date, 'DD-MON-RR') - SYSDATE) INTO v_diff FROM DUAL;
    IF (v_diff < 3) AND (v_diff > 0)  THEN 
    SELECT notification_id_seq.NEXTVAL INTO v_notification_id FROM DUAL;
    INSERT INTO notifications (
    notification_id,
    notification_type,
    patient_id,
    prescription_id,
    message,
    created_on
    ) VALUES (
    v_notification_id,
    'Prescription Refill',
    p.patient_id,
    p.prescription_id,
    'Your prescription ' || p.prescription_id || ' is about to expire in ' || to_char(v_diff) || ' days.',
    systimestamp
    );
    END IF;
    END LOOP;
    END;

/
--------------------------------------------------------
--  DDL for Procedure SP_CHECKREMINDERS
--------------------------------------------------------
set define off;

  CREATE OR REPLACE PROCEDURE "MT"."SP_CHECKREMINDERS" IS
  v_current_time VARCHAR2(15);
  v_remind_time VARCHAR2(15);
  v_notification_id NUMBER;
BEGIN
  SELECT
    to_char(to_timestamp_tz(systimestamp, 'DD-MON-RR HH.MI.SS.FF AM TZR'), 'HH:MI') 
  INTO v_current_time
  FROM
    dual;

  FOR r IN (
    SELECT
      *
    FROM
      reminders
  ) LOOP
    SELECT
          to_char(to_timestamp(to_char(r.remind_on, 'DD-MM-RR HH.MI.SS.FF AM'), 'DD-MM-RR HH.MI.SS.FF AM'),
                  'HH:MI')
                  INTO 
                  v_remind_time
        FROM
          dual;
    DBMS_OUTPUT.PUT_LINE('Remind on time : ' || v_remind_time);
    SELECT notification_id_seq.NEXTVAL INTO v_notification_id FROM DUAL;
    IF (v_remind_time = v_current_time)  THEN
    -- Add a new notification record
    INSERT INTO notifications (
      notification_id,
      notification_type,
      patient_id,
      reminder_id,
      message,
      created_on
    ) VALUES (
      v_notification_id,
      'REMINDER',
      r.patient_id,
      r.reminder_id,
      'It is time to take your medication ' || (SELECT m.medication_name
      FROM medication_details m 
      WHERE m.medication_id = r.medication_id
      ),
      SYSTIMESTAMP
    );
    END IF;
  END LOOP;
END;

/
--------------------------------------------------------
--  Constraints for Table DOCTORS
--------------------------------------------------------

  ALTER TABLE "MT"."DOCTORS" ADD PRIMARY KEY ("DOCTOR_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table HOSPITALS
--------------------------------------------------------

  ALTER TABLE "MT"."HOSPITALS" ADD PRIMARY KEY ("HOSPITAL_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table MEDICATION_DETAILS
--------------------------------------------------------

  ALTER TABLE "MT"."MEDICATION_DETAILS" ADD PRIMARY KEY ("MEDICATION_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table NOTIFICATIONS
--------------------------------------------------------

  ALTER TABLE "MT"."NOTIFICATIONS" ADD CONSTRAINT "NOTIFICATIONS_PK" PRIMARY KEY ("NOTIFICATION_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "MT"."NOTIFICATIONS" MODIFY ("NOTIFICATION_ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table NURSES
--------------------------------------------------------

  ALTER TABLE "MT"."NURSES" ADD PRIMARY KEY ("NURSE_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table PATIENTS
--------------------------------------------------------

  ALTER TABLE "MT"."PATIENTS" ADD UNIQUE ("GOVT_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "MT"."PATIENTS" ADD PRIMARY KEY ("PATIENT_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table PHARMACIES
--------------------------------------------------------

  ALTER TABLE "MT"."PHARMACIES" ADD PRIMARY KEY ("PHARMACY_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table PRESCRIPTION_DETAILS
--------------------------------------------------------

  ALTER TABLE "MT"."PRESCRIPTION_DETAILS" ADD PRIMARY KEY ("PRESCRIPTION_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table PRESC_MED_MAPPINGS
--------------------------------------------------------

  ALTER TABLE "MT"."PRESC_MED_MAPPINGS" ADD PRIMARY KEY ("MAPPING_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table REFILL_REQUESTS
--------------------------------------------------------

  ALTER TABLE "MT"."REFILL_REQUESTS" ADD PRIMARY KEY ("REFILL_REQUEST_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table REMINDERS
--------------------------------------------------------

  ALTER TABLE "MT"."REMINDERS" ADD CONSTRAINT "PK_REM_ID" PRIMARY KEY ("REMINDER_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table ROLES
--------------------------------------------------------

  ALTER TABLE "MT"."ROLES" ADD PRIMARY KEY ("ROLE_NAME")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table STATUS
--------------------------------------------------------

  ALTER TABLE "MT"."STATUS" ADD PRIMARY KEY ("STATUS_CODE")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table USERS
--------------------------------------------------------

  ALTER TABLE "MT"."USERS" ADD PRIMARY KEY ("USER_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table DOCTORS
--------------------------------------------------------

  ALTER TABLE "MT"."DOCTORS" ADD CONSTRAINT "FK_DOCTORS_HOSPITALS" FOREIGN KEY ("HOSPITAL_ID")
	  REFERENCES "MT"."HOSPITALS" ("HOSPITAL_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table MEDICATION_DETAILS
--------------------------------------------------------

  ALTER TABLE "MT"."MEDICATION_DETAILS" ADD CONSTRAINT "FK_MEDDETAILS_PHARMACIES" FOREIGN KEY ("PHARMACY_ID")
	  REFERENCES "MT"."PHARMACIES" ("PHARMACY_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table NOTIFICATIONS
--------------------------------------------------------

  ALTER TABLE "MT"."NOTIFICATIONS" ADD CONSTRAINT "NOTIFY_MED_FK" FOREIGN KEY ("MEDICATION_ID")
	  REFERENCES "MT"."MEDICATION_DETAILS" ("MEDICATION_ID") ENABLE;
  ALTER TABLE "MT"."NOTIFICATIONS" ADD CONSTRAINT "NOTIFY_PAT_FK" FOREIGN KEY ("PATIENT_ID")
	  REFERENCES "MT"."PATIENTS" ("PATIENT_ID") ENABLE;
  ALTER TABLE "MT"."NOTIFICATIONS" ADD CONSTRAINT "NOTIFY_PRESC_FK" FOREIGN KEY ("PRESCRIPTION_ID")
	  REFERENCES "MT"."PRESCRIPTION_DETAILS" ("PRESCRIPTION_ID") ENABLE;
  ALTER TABLE "MT"."NOTIFICATIONS" ADD CONSTRAINT "NOTIFY_REM_FK" FOREIGN KEY ("REMINDER_ID")
	  REFERENCES "MT"."REMINDERS" ("REMINDER_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table NURSES
--------------------------------------------------------

  ALTER TABLE "MT"."NURSES" ADD CONSTRAINT "FK_NURSES_HOSPITALS" FOREIGN KEY ("HOSPITAL_ID")
	  REFERENCES "MT"."HOSPITALS" ("HOSPITAL_ID") ENABLE;
  ALTER TABLE "MT"."NURSES" ADD CONSTRAINT "FK_NURSES_USERS" FOREIGN KEY ("USER_ID")
	  REFERENCES "MT"."USERS" ("USER_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PATIENTS
--------------------------------------------------------

  ALTER TABLE "MT"."PATIENTS" ADD CONSTRAINT "FK_PATIENTS_USERS" FOREIGN KEY ("USER_ID")
	  REFERENCES "MT"."USERS" ("USER_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PHARMACIES
--------------------------------------------------------

  ALTER TABLE "MT"."PHARMACIES" ADD CONSTRAINT "FK_PHARMACIES_USERS" FOREIGN KEY ("USER_ID")
	  REFERENCES "MT"."USERS" ("USER_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PRESCRIPTION_DETAILS
--------------------------------------------------------

  ALTER TABLE "MT"."PRESCRIPTION_DETAILS" ADD CONSTRAINT "FK_PRESC_DETAILS_DOCTORS" FOREIGN KEY ("PRESCRIBED_BY")
	  REFERENCES "MT"."DOCTORS" ("DOCTOR_ID") ENABLE;
  ALTER TABLE "MT"."PRESCRIPTION_DETAILS" ADD CONSTRAINT "FK_PRESC_DETAILS_HOSPITALS" FOREIGN KEY ("PRESCRIBED_AT")
	  REFERENCES "MT"."HOSPITALS" ("HOSPITAL_ID") ENABLE;
  ALTER TABLE "MT"."PRESCRIPTION_DETAILS" ADD CONSTRAINT "FK_PRESC_DETAILS_PATIENTS" FOREIGN KEY ("PATIENT_ID")
	  REFERENCES "MT"."PATIENTS" ("PATIENT_ID") ENABLE;
  ALTER TABLE "MT"."PRESCRIPTION_DETAILS" ADD CONSTRAINT "FK_PRESC_DETAILS_STATUS" FOREIGN KEY ("STATUS")
	  REFERENCES "MT"."STATUS" ("STATUS_CODE") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PRESC_MED_MAPPINGS
--------------------------------------------------------

  ALTER TABLE "MT"."PRESC_MED_MAPPINGS" ADD CONSTRAINT "FK_PMM_MD" FOREIGN KEY ("MEDICATION_ID")
	  REFERENCES "MT"."MEDICATION_DETAILS" ("MEDICATION_ID") ENABLE;
  ALTER TABLE "MT"."PRESC_MED_MAPPINGS" ADD CONSTRAINT "FK_PMM_PD" FOREIGN KEY ("PRESCRIPTION_ID")
	  REFERENCES "MT"."PRESCRIPTION_DETAILS" ("PRESCRIPTION_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table REFILL_REQUESTS
--------------------------------------------------------

  ALTER TABLE "MT"."REFILL_REQUESTS" ADD CONSTRAINT "FK_RR_MD" FOREIGN KEY ("MEDICATION_ID")
	  REFERENCES "MT"."MEDICATION_DETAILS" ("MEDICATION_ID") ENABLE;
  ALTER TABLE "MT"."REFILL_REQUESTS" ADD CONSTRAINT "FK_RR_P" FOREIGN KEY ("REQUESTED_BY")
	  REFERENCES "MT"."PATIENTS" ("PATIENT_ID") ENABLE;
  ALTER TABLE "MT"."REFILL_REQUESTS" ADD CONSTRAINT "FK_RR_PD" FOREIGN KEY ("PRESCRIPTION_ID")
	  REFERENCES "MT"."PRESCRIPTION_DETAILS" ("PRESCRIPTION_ID") ENABLE;
  ALTER TABLE "MT"."REFILL_REQUESTS" ADD CONSTRAINT "FK_RR_S" FOREIGN KEY ("STATUS")
	  REFERENCES "MT"."STATUS" ("STATUS_CODE") ENABLE;
  ALTER TABLE "MT"."REFILL_REQUESTS" ADD CONSTRAINT "FK_RR_U" FOREIGN KEY ("FULFILLED_BY")
	  REFERENCES "MT"."USERS" ("USER_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table REMINDERS
--------------------------------------------------------

  ALTER TABLE "MT"."REMINDERS" ADD CONSTRAINT "FK_REM_MED_DETAILS" FOREIGN KEY ("MEDICATION_ID")
	  REFERENCES "MT"."MEDICATION_DETAILS" ("MEDICATION_ID") ENABLE;
  ALTER TABLE "MT"."REMINDERS" ADD CONSTRAINT "FK_REM_PATIENTS" FOREIGN KEY ("PATIENT_ID")
	  REFERENCES "MT"."PATIENTS" ("PATIENT_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table USERS
--------------------------------------------------------

  ALTER TABLE "MT"."USERS" ADD CONSTRAINT "FK_USERS_ROLES" FOREIGN KEY ("ROLE_NAME")
	  REFERENCES "MT"."ROLES" ("ROLE_NAME") ENABLE;

------------------------------------------------------------
-- DDL for Scheduling job to CHECK_REMINDERS every minute
------------------------------------------------------------
  
BEGIN 
dbms_scheduler.create_job('"CHECK_REMINDERS"',
job_type=>'STORED_PROCEDURE', job_action=>
'MT.SP_CHECKREMINDERS'
, number_of_arguments=>0,
start_date=>TO_TIMESTAMP_TZ('29-JUL-2024 03.59.41.000000000 PM ASIA/CALCUTTA','DD-MON-RRRR HH.MI.SSXFF AM TZR','NLS_DATE_LANGUAGE=english'), repeat_interval=> 
'FREQ=MINUTELY'
, end_date=>NULL,
job_class=>'"DEFAULT_JOB_CLASS"', enabled=>FALSE, auto_drop=>FALSE,comments=>
'Checks for equality of remind_on and current time'
);
dbms_scheduler.enable('"CHECK_REMINDERS"');
COMMIT; 
END; 
/ 


------------------------------------------------------------------
-- DDL for Scheduling job to CHECKPRESCRIPTIONEXPIRIES every day
------------------------------------------------------------------
  
BEGIN 
dbms_scheduler.create_job('"CHECKPRESCRIPTIONEXPIRIES"',
job_type=>'STORED_PROCEDURE', job_action=>
'MT.SP_CHECKPRESCRIPTIONEXPIRIES'
, number_of_arguments=>0,
start_date=>TO_TIMESTAMP_TZ('29-JUL-2024 05.16.18.000000000 PM ASIA/CALCUTTA','DD-MON-RRRR HH.MI.SSXFF AM TZR','NLS_DATE_LANGUAGE=english'), repeat_interval=> 
'FREQ=DAILY;BYDAY=MON,TUE,WED,THU,FRI,SAT,SUN;BYHOUR=9;BYMINUTE=0;BYSECOND=0'
, end_date=>NULL,
job_class=>'"DEFAULT_JOB_CLASS"', enabled=>FALSE, auto_drop=>FALSE,comments=>
'Check prescription expiries daily at midnight'
);
dbms_scheduler.enable('"CHECKPRESCRIPTIONEXPIRIES"');
COMMIT; 
END; 
/ 
